{
    droids {
        droidId
        name
        primaryFunction
        friends {
            name
            appearsIn {
                id
                name
            }
            ... on Human {
                humanId
                homePlanet
                appearsIn {
                    id
                    name
                    characters {
                        name
                    }
                }
                friends {
                    name
                    friends {
                        name
                        ... on Human { humanId }
                        friends {
                            ... on Droid { droidId }
                            name
                        }
                    }
                }
            }
        }
    }

    episodes {
        name
        characters {
            name
            friends {
                name
                appearsIn {
                    name
                }
            }
        }
    }
}